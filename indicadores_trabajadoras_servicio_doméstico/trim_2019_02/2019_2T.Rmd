---
title: "Indicadores sobre Trabajadoras de Servicio Doméstico"
subtitle: "Datos de la Encuesta Permanente de Hogares. 2do trimestre de 2019."
author: "Natsumi Shokida para Economía Femini(s)ta"
date: "Enero de 2020"
output: 
  html_notebook:
    toc: yes
    toc_float: yes
    toc_depth: 3
---

```{r echo=FALSE, message=FALSE, warning=FALSE}
# Se cargan librerías útiles
library(tidyverse)
library(httr)
library(stringr)
library(openxlsx)
library(haven)
library(readxl)
library(ggthemes)
library(scales)
library(knitr)
library(ggalt)
library(kableExtra)
library(formattable)
library(questionr)
library(eph)
# Como fuente tomamos un script con el código que permite construir las ramas de la ocupación de acuerdo al nomenclador
source("funciones rama.R") 
```

```{r echo=FALSE, message=FALSE, warning=FALSE}
date <- "2do trimestre de 2019"                        # <-----------------
```

Aquí se presentan diversos indicadores referidos a las condiciones de trabajo de las trabajadoras que prestan servicio doméstico en hogares particulares. La información proviene de la base usuaria de la Encuesta Permanente de Hogares (EPH-INDEC-Argentina) y refiere a los 31 aglomerados urbanos relevados por la misma durante el `r date`.´.     
El presente documento no consiste en un informe o publicación finalizada, sino en la disponibilización de resultados parciales de un trabajo más amplio.

```{r echo=FALSE, message=FALSE, warning=FALSE}
# Cargo base de EPH con el paquete eph
base_individual <- eph::get_microdata(year = 2019, trimester = 2, type =  "individual") 
```

```{r, echo=FALSE, message=FALSE, warning=FALSE}
# Funciones de formato para la presentación de los números.
formato_porc <- function(numero, dec = 1){
  format(round(numero, digits = dec), nsmall = dec, decimal.mark = ",")
}

formato_pesos <- function(numero, dec = 2){
  paste0("$", format(round(numero, digits = dec), nsmall = dec, big.mark = ".", decimal.mark = ","))
}

formato_cantidad <- function(numero, dec = 0){
  format(round(numero, digits = dec), nsmall = dec, big.mark = ".", decimal.mark = ",")
}
```

```{r, echo=FALSE, message=FALSE, warning=FALSE}
# Modificaciones en la base
base_individual <- base_individual %>% 
  mutate(Sexo = as.character(CH04),
         Sexo = case_when(Sexo=="1" ~ "Varones",
                          Sexo=="2" ~ "Mujeres"),
         NIVEL_EDUCATIVO = case_when(NIVEL_ED %in% c(1, 7) ~ "Sin Instrucción",
                                     NIVEL_ED %in% c(2, 3) ~ "Primaria",
                                     NIVEL_ED %in% c(4, 5) ~ "Secundaria",
                                     NIVEL_ED == 6         ~ "Superior",
                                     NIVEL_ED == 9         ~ "NS/NR"),
         NIVEL_EDUCATIVO = factor(NIVEL_EDUCATIVO, levels = c("Sin Instrucción", "Primaria", "Secundaria", "Superior")),
         GRUPO_EDAD = case_when(CH06 >= 14 & CH06 <= 29 ~ "de 14 a 29 años",
                                CH06 >= 30 & CH06 <= 49 ~ "de 30 a 49 años",
                                CH06 >= 50 & CH06 <= 64 ~ "de 50 a 64 años",
                                CH06 >= 65              ~ "65 años y más"),
         GRUPO_EDAD = factor(GRUPO_EDAD, 
                             levels = c("de 14 a 29 años",
                                        "de 30 a 49 años",
                                        "de 50 a 64 años",
                                        "65 años y más")))

# colores = c("#aa165a","#16aa66")
colores = c("#FE1764", "#00BDD6")
```

### Total de asalariades

#### Empleo sin descuento jubilatorio.
```{r echo=FALSE, message=FALSE, warning=FALSE, paged.print=TRUE}
base_individual %>% 
  filter(ESTADO == 1,
         CAT_OCUP==3) %>% 
  summarise("Tasa de no registro" = formato_porc(sum(PONDERA[PP07H==2])/sum(PONDERA)*100))
```

Entre el total de ocupades asalariades, un 34,5% no posee descuento jubilatorio por su trabajo, que es un indicador que nos aproxima a quienes no están registrades en la seguridad social.      
      
#### Empleo sin descuento jubilatorio por sexo.
```{r echo=FALSE, message=FALSE, warning=FALSE}
base_individual %>% 
  filter(ESTADO==1,
         CAT_OCUP==3) %>% 
  group_by(Sexo) %>% 
  summarise("Tasa de no registro" = formato_porc(sum(PONDERA[PP07H==2])/sum(PONDERA)*100))
```

A su vez, esta tasa asciende al 36,1% cuando se trata de asalariadas mujeres, y es del 33,2% en el caso de asalariados varones.

### Trabajadoras del Servicio doméstico

Si bien analizamos al conjunto de les trabajadores de se dedican a esta actividad, utilizamos pronombres femeninos a la hora de generalizar, dada la alta tasa de feminidad del sector. A su vez, cabe destacar que se realiza el ejercicio en términos cis-binarios por falta de información respecto de las identidades trans-travesti en las estadísticas oficiales. 

```{r echo=FALSE, message=FALSE, warning=FALSE}
# Armamos una mini base de servicio doméstico utilizando la pregunta PP04B1, que identifica a las personas que prestan servicio doméstico en hogares particulares. 

serv.dom <- base_individual %>% 
  filter(PP04B1 == 1)
# Contamos con 1899 casos muestrales
# Luego, a la hora de trabajar con el clasificador de actividades, se encuentran más casos en "Actividades de los hogares como empleadores de personal doméstico", pero se verá que se trata de casos que no respondieron en cuántas casas trabajan.

table(serv.dom$ESTADO, serv.dom$CAT_OCUP, exclude = NULL)
# Todas ocupadas - asalariadas. 
```

#### Cantidad de personas que se dedican al servicio doméstico
```{r echo=FALSE, message=FALSE, warning=FALSE}
serv.dom %>% summarise(Cantidad = formato_cantidad(sum(PONDERA)))
```

Más de 900 mil personas componen al sector, siendo el equivalente a 13 canchas de River llenas. Se trata de una cantidad estimada para las grandes ciudades del país (31 aglomerados urbanos relevados por la encuesta).

#### Proporcion de mujeres y de varones 
```{r echo=FALSE, message=FALSE, warning=FALSE}
base_individual %>% 
  filter(PP04B1 == 1) %>% 
  mutate(Total = sum(PONDERA)) %>% 
  group_by(Sexo) %>% 
  summarise(Porcentaje = formato_porc(sum(PONDERA)/unique(Total)*100))
```

La tasa de feminidad del sector es del 97,9%. Es decir, que casi en su totalidad se trata de trabajadoras mujeres.

#### Proporción de servicio doméstico dentro de las ocupadas mujeres
```{r echo=FALSE, message=FALSE, warning=FALSE}
base_individual %>% 
  filter(ESTADO == 1,
         Sexo == "Mujeres") %>% 
  mutate(Servicio_domestico = case_when(PP04B1 == 1 ~ "Sí",
                                        PP04B1 != 1 ~ "No")) %>% 
  group_by(Servicio_domestico) %>% 
  summarise(Cantidad = sum(PONDERA)) %>% 
  mutate(Porcentaje = formato_porc(Cantidad/sum(Cantidad)*100),
         Cantidad = formato_cantidad(Cantidad)) %>% 
  select("¿Se dedica al servicio doméstico?" = Servicio_domestico,
         Cantidad, Porcentaje)
```

A su vez, las trabajadoras que realizan tareas domésticas y de cuidado en hogares particulares, representan un 17% dentro del total de ocupadas mujeres. Esto significa que una de cada 6 ocupadas en Argentina trabaja en este sector de la economía.   
La leve diferencia en la cantidad se debe a que, en este último caso, sólo estamos considerando a las mujeres del sector. 

#### Proporción de servicio doméstico dentro de las asalariadas mujeres
```{r echo=FALSE, message=FALSE, warning=FALSE}
base_individual %>% 
  filter(ESTADO == 1,
         CAT_OCUP == 3,
         Sexo == "Mujeres") %>% 
  mutate(Servicio_domestico = case_when(PP04B1 == 1 ~ "Sí",
                                        PP04B1 != 1 ~ "No")) %>% 
  group_by(Servicio_domestico) %>% 
  summarise(Cantidad = sum(PONDERA)) %>% 
  mutate(Porcentaje = formato_porc(Cantidad/sum(Cantidad)*100),
         Cantidad = formato_cantidad(Cantidad)) %>% 
  select("¿Se dedica al servicio doméstico?" = Servicio_domestico,
         Cantidad, Porcentaje)
```

Al mismo tiempo, estas más de 900.000 trabajadoras representan un 22% dentro del total de ocupadas-asalariadas. O sea que dentro de las mujeres que trabajan en relación de dependencia, 1 de cada 5 tiene como ocupación principal el trabajo en hogares particulares.

#### Composicion por edad de las trabajadoras del servicio doméstico
```{r echo=FALSE, message=FALSE, warning=FALSE}
serv.dom %>% 
  group_by(GRUPO_EDAD) %>% 
  summarise(Cantidad = sum(PONDERA)) %>% 
  mutate(Porcentaje = formato_porc(Cantidad/sum(Cantidad)*100),
         Cantidad = formato_cantidad(Cantidad)) %>%
  select(Edad = GRUPO_EDAD, Cantidad, Porcentaje)
```

Mientras que casi la mitad de estas trabajadoras tienen entre 30 y 49 años, un 31% tiene entre 50 y 64 años. Por su parte, hay un 5,4% que continúa trabajando a pesar de haber superado la edad jubilatoria, y un 16.6% son jóvenes que tienen hasta 29 años. Este último grupo está compuesto por más de 150 mil jóvenes.

### Educación

#### Composicion por nivel educativo de las trabajadoras del servicio doméstico

```{r echo=FALSE, message=FALSE, warning=FALSE}
serv.dom %>% 
  group_by(NIVEL_EDUCATIVO) %>% 
  summarise(Cantidad = sum(PONDERA)) %>% 
  mutate(Porcentaje = formato_porc(Cantidad/sum(Cantidad)*100),
         Cantidad = formato_cantidad(Cantidad)) %>%
  filter(NIVEL_EDUCATIVO != "Superior") %>% 
  select("Nivel educativo" = NIVEL_EDUCATIVO, Cantidad, Porcentaje)
```

Más de la mitad de las trabajadoras del sector cuenta con el nivel primario de escolaridad finalizado, a lo que se suma un 35,7% que cuenta también con el nivel secundario. En tanto, un 7,7% no posee instrucción formal.     
      
_Nota: La estimación correspondiente a aquellas que han finalizado un nivel superior de formación no cuenta con suficientes casos muestrales como para garantizar significatividad del dato, por lo que se ha retirado del cuadro la categoría._      

#### Las jóvenes y su formación educativa

En este apartado se presentan indicadores referidos a las jóvenes de entre 14 y 29 años que se desempeñan como trabajadoras domésticas, y sus características respecto de la asistencia a establecimientos educativos. En primer lugar, puede observarse que un 23,4% (casi 1 de cada 4) asiste a un establecimiento educativo al mismo tiempo que se desempeña en su trabajo.

#### Mujeres jóvenes del servicio doméstico por asistencia a establecimiento educativo
```{r echo=FALSE, message=FALSE, warning=FALSE}
serv.dom %>% 
  filter(Sexo == "Mujeres",
         GRUPO_EDAD == "de 14 a 29 años") %>% 
  mutate(Asistencia = case_when(CH10 == 1 ~ "Asiste actualmente",
                                CH10 == 2 ~ "No asiste, pero asistió en el pasado",
                                CH10 == 3 ~ "Nunca asistió")) %>% 
  group_by(Asistencia) %>% 
  summarise(n = n(),
            Cantidad = sum(PONDERA)) %>% 
  mutate(Porcentaje = formato_porc(Cantidad/sum(Cantidad)*100),
         Cantidad = formato_cantidad(Cantidad)) %>% 
  filter(Asistencia != "Nunca asistió") %>% 
  select("¿Asiste a un establecimiento educativo?" = Asistencia,
         Cantidad, Porcentaje)
```
_Nota: La estimación correspondiente a aquellas que nunca asistieron a un establecimiento educativo no cuenta con suficientes casos muestrales como para garantizar significatividad del dato, por lo que se ha retirado del cuadro la categoría._ 

#### Ocupadas jóvenes
```{r echo=FALSE, message=FALSE, warning=FALSE}
base_individual %>% 
  filter(Sexo == "Mujeres",
         GRUPO_EDAD == "de 14 a 29 años",
         ESTADO == 1) %>% 
  mutate(Asistencia = case_when(CH10 == 1 ~ "Asiste actualmente",
                                CH10 == 2 ~ "No asiste, pero asistió en el pasado",
                                CH10 == 3 ~ "Nunca asistió"),
         Servicio_domestico = case_when(PP04B1 == 1 ~ "Sí",
                                        PP04B1 != 1 ~ "No")) %>% 
  group_by(Servicio_domestico, Asistencia) %>% 
  summarise(n = n(),
            Cantidad = sum(PONDERA)) %>% 
  mutate(Porcentaje = formato_porc(Cantidad/sum(Cantidad)*100),
         Cantidad = formato_cantidad(Cantidad)) %>% 
  filter(Asistencia == "Asiste actualmente") %>% 
  select("¿Se dedica al servicio doméstico?" = Servicio_domestico,
         "Tasa de formación" = Porcentaje)
```
_Nota: La estimación correspondiente a aquellas que nunca asistieron a un establecimiento educativo no cuenta con suficientes casos muestrales como para garantizar significatividad del dato, por lo que se ha retirado del cuadro la categoría._ 

```{r echo=FALSE, message=FALSE, warning=FALSE}
#ocupadas jóvenes que asisten segun si son de servicio domestico y a qué nivel
base_individual %>% 
  filter(Sexo == "Mujeres",
         GRUPO_EDAD == "de 14 a 29 años",
         ESTADO == 1,
         CH10 == 1) %>% 
  mutate(Servicio_domestico = case_when(PP04B1 == 1 ~ "Sí",
                                        PP04B1 != 1 ~ "No"),
         Nivel = case_when(CH12 == 1 ~ "Jardín/Preescolar",
                           CH12 %in% c(2, 3) ~ "Primario/EGB",
                           CH12 %in% c(4, 5) ~ "Secundario/Polimodal",
                           CH12 %in% c(6, 7) ~ "Terciario/Universitario",
                           CH12 == 8 ~ "Posgrado",
                           CH12 == 9 ~ "Ed. Especial")) %>% 
  group_by(Servicio_domestico, Nivel) %>% 
  summarise(n = n(),
            Cantidad = sum(PONDERA)) %>% 
  mutate(Porcentaje = formato_porc(Cantidad/sum(Cantidad)*100),
         Cantidad = formato_cantidad(Cantidad)) %>% 
  filter(Nivel %in% c("Secundario/Polimodal", "Terciario/Universitario")) %>% 
  select("¿Se dedica al servicio doméstico?" = Servicio_domestico,
         "Nivel al que asiste" = Nivel,
         "Tasa" = Porcentaje) %>% 
  spread(., "Nivel al que asiste", Tasa)
```



### Derechos laborales, ingresos y carga horaria de las trabajadoras domésticas

En esta sección no se filtra a las mujeres, pero al igual que en todo el ejercicio, hacemos uso del femenino por la alta tasa de feminidad del sector.     
      
Proporción sin descuento jubilatorio dentro de trabajadoras domesticas
```{r echo=FALSE, message=FALSE, warning=FALSE}
serv.dom %>% 
  summarise("Proporción de no Registrados" = formato_porc(sum(PONDERA[PP07H==2])/sum(PONDERA)*100))
```

Ingreso promedio (de la ocupación principal) de las trabajadoras domésticas
```{r echo=FALSE, message=FALSE, warning=FALSE}
serv.dom %>% 
  summarise("Ingreso promedio" = formato_pesos(weighted.mean(P21, PONDIIO)),
            "50% cobra menos de" = formato_pesos(spatstat::weighted.median(P21, PONDIIO)))
```

Ingreso promedio (incluyendo ocupaciones secundarias) de las trabajadoras domésticas
```{r echo=FALSE, message=FALSE, warning=FALSE}
serv.dom %>% 
  summarise("Ingreso promedio" = formato_pesos(weighted.mean(P21+TOT_P12, PONDIIO)),
            "50% cobra menos de" = formato_pesos(spatstat::weighted.median(P21+TOT_P12, PONDIIO)))
```

Cantidad de hogares en los que trabajan
```{r echo=FALSE, message=FALSE, warning=FALSE}
as.data.frame(wtd.table(serv.dom$PP04B2, 
                        weights = serv.dom$PONDERA, 
                        exclude = NULL)) %>% 
  mutate(total = sum(Freq),
         Porcentaje = formato_porc(Freq/total*100)) %>% 
  select(cantidad_hogares = Var1, Porcentaje)
```

Intensidad
```{r echo=FALSE, message=FALSE, warning=FALSE}
as.data.frame(wtd.table(serv.dom$INTENSI, weights = serv.dom$PONDERA, na.rm = FALSE)) %>% 
  mutate(total = sum(Freq),
         Porcentaje = formato_porc(Freq/total*100)) %>% 
  select(Intensi = Var1, Porcentaje)
```
1 = Subocupado por insuficiencia horaria            
2 = Ocupado pleno         
3 = Sobreocupado            
4 = Ocupado que no trabajó en la semana               
            
Población subocupada: se refiere a la subocupación por insuficiencia de horas, visible u horaria, y comprende a los ocupados que trabajan menos de 35 horas semanales por causas involuntarias y están dispuestos a trabajar más horas.              
                  
#### En ese trabajo tiene...            

1 = Si       
2 = No        
                    
Vacaciones pagas?
```{r echo=FALSE, message=FALSE, warning=FALSE}
as.data.frame(wtd.table(serv.dom$PP07G1, weights = serv.dom$PONDERA, na.rm = FALSE)) %>% 
  mutate(total = sum(Freq),
         Porcentaje = formato_porc(Freq/total*100)) %>% 
  select(Vacaciones = Var1, Porcentaje)
```

Aguinaldo?
```{r echo=FALSE, message=FALSE, warning=FALSE}
as.data.frame(wtd.table(serv.dom$PP07G2, weights = serv.dom$PONDERA, na.rm = FALSE)) %>% 
  mutate(total = sum(Freq),
         Porcentaje = formato_porc(Freq/total*100)) %>% 
  select(Aguinaldo = Var1, Porcentaje)
```

Días pagos por enfermedad?
```{r echo=FALSE, message=FALSE, warning=FALSE}
as.data.frame(wtd.table(serv.dom$PP07G3, weights = serv.dom$PONDERA, na.rm = FALSE)) %>% 
  mutate(total = sum(Freq),
         Porcentaje = formato_porc(Freq/total*100)) %>% 
  select(Pago_enfermedad = Var1, Porcentaje)
```

Obra social?
```{r echo=FALSE, message=FALSE, warning=FALSE}
as.data.frame(wtd.table(serv.dom$PP07G4, weights = serv.dom$PONDERA, na.rm = FALSE)) %>% 
  mutate(total = sum(Freq),
         Porcentaje = formato_porc(Freq/total*100)) %>% 
  select(Obra_social = Var1, Porcentaje)
```

      

### Comparación entre ramas de la ocupación         

Considerando rama de actividad de la ocupación principal
```{r echo=FALSE, message=FALSE, warning=FALSE}
# Implemento la función que construye la rama EPH con nombres descriptivos, directo desde la PP04B_COD
base_individual <- base_individual %>%
  mutate(rama.nombre = entra.cuchillo.salen.las.ramas(PP04B_COD))
```

```{r message=FALSE, warning=FALSE, include=FALSE}
asalariades <- base_individual %>%
  filter(ESTADO == 1,
         CAT_OCUP == 3)

as.data.frame(wtd.table(asalariades$rama.nombre, 
                        weights = asalariades$PONDERA, 
                        exclude = NULL))
```

```{r message=FALSE, warning=FALSE, include=FALSE}
table(asalariades$rama.nombre, asalariades$PP04B1, exclude = NULL)
# Hay casos de Servicio domestico en la rama pero que no tienen marcada la variable que las identifica como prestadoras de servicio doméstico en hogares, son 21 casos muestrales
```

```{r message=FALSE, warning=FALSE, include=FALSE}
prueba <- asalariades %>% 
  filter(rama.nombre == "Servicio domestico", 
         PP04B1 == 2)

table(prueba$PP04B_COD, exclude = NULL)
table(prueba$PP04B2, exclude = NULL)
# Los 21 casos tienen rama "9700", que en CAES Mercosur es "Actividades de los hogares como empleadores de personal doméstico", la misma rama que el resto, pero responder trabajar en "0 casas" y por eso no se tienen en cuenta hasta ahora, en la base serv.dom.
```

Asalariades. Indicadores por rama.
```{r echo=FALSE, message=FALSE, warning=FALSE}
asal.ramas <- asalariades %>% 
  mutate(total = sum(PONDERA)) %>% 
  group_by(rama.nombre) %>% 
  summarise(Proporcion = round(sum(PONDERA)/unique(total)*100, 1),
            Tasa.feminidad = round(sum(PONDERA[Sexo == "Mujeres"])/sum(PONDERA)*100, 1),
            Tasa.no.registro = round(sum(PONDERA[PP07H == 2])/sum(PONDERA)*100, 1),
            Ingreso.Promedio = weighted.mean(P21, PONDIIO)) %>% 
  arrange(-Tasa.feminidad)

asal.ramas
```

Ocupades. Indicadores por rama.
```{r echo=FALSE, message=FALSE, warning=FALSE}
ocup.ramas <- base_individual %>%
  filter(ESTADO == 1) %>% 
  mutate(total = sum(PONDERA)) %>% 
  group_by(rama.nombre) %>% 
  summarise(Proporcion = round(sum(PONDERA)/unique(total)*100, 1),
            Tasa.feminidad = round(sum(PONDERA[Sexo == "Mujeres"])/sum(PONDERA)*100, 1),
            Tasa.no.registro = round(sum(PONDERA[PP07H == 2])/sum(PONDERA)*100, 1),
            Ingreso.Promedio = weighted.mean(P21, PONDIIO)) %>% 
  arrange(-Tasa.feminidad)

ocup.ramas
```






